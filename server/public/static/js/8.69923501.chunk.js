(this.webpackJsonp0524_react_project=this.webpackJsonp0524_react_project||[]).push([[8],{196:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));n(74);var a=n(76),r=(n(92),n(93)),o=n(94),c=n.n(o),u=n(95),s=n(11),i=n(12),l=n(14),f=n(13),d=(n(194),n(197)),p=(n(91),n(99)),m=n(0),h=n.n(m),g=n(72),v=(n(196),p.a.Item),b=d.a.alert,O=function(e){Object(l.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userInfo:{}},e.handleLogout=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.b)(e.state.userInfo._id);case 2:e.props.history.replace("/login");case 3:case"end":return t.stop()}}),t)}))),e.logout=function(){b("\u9000\u51fa\u767b\u5f55","\u786e\u5b9a\u9000\u51fa\u767b\u5f55\u5417\uff1f",[{text:"\u53d6\u6d88"},{text:"\u786e\u5b9a",onPress:e.handleLogout,style:{backgroundColor:"#F40700",color:"white"}}])},e.verifyLogin=Object(u.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g.d)();case 3:n=t.sent,e.setState({userInfo:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.props.history.replace("/login");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.verifyLogin()}},{key:"render",value:function(){var e=this.state.userInfo,t=e.avatar,n=e.nickName,o=e.phone;return h.a.createElement("div",{className:"user-center"},h.a.createElement(r.a,{mode:"light"},"\u4e2a\u4eba\u4e2d\u5fc3"),h.a.createElement("div",{className:"avatar"},h.a.createElement("img",{src:t,alt:""})),h.a.createElement("span",null,"\u6b22\u8fce\uff0c\u7528\u6237\uff1a",o),h.a.createElement(p.a,{renderHeader:function(){return"\u4e2a\u4eba\u4fe1\u606f"},className:"info-list"},h.a.createElement(v,{extra:n},"\u6635\u79f0"),h.a.createElement(v,{extra:o},"\u624b\u673a\u53f7")),h.a.createElement(a.a,{onClick:this.logout,type:"primary"},"\u9000\u51fa\u767b\u5f55"))}}]),n}(m.Component)},64:function(e,t,n){"use strict";n(71);var a=n(73),r=n(96),o=n.n(r),c=n(97),u=n.n(c),s=(n(98),o.a.create({baseURL:"/",timeout:3e3}));s.interceptors.request.use((function(e){return u.a.start(),e})),s.interceptors.response.use((function(e){return u.a.done(),2e4===e.data.code?e.data.data:(a.a.fail(e.data.message),Promise.reject(e.data.message))}),(function(e){return u.a.done(),console.log("\u54cd\u5e94\u62e6\u622a\u5668\u5931\u8d25\u7684\u56de\u8c03\u6267\u884c\u4e86",e),a.a.fail(e.message),new Promise((function(){}))})),t.a=s},72:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n(64),r=function(e){return Object(a.a)({url:"/login/digits",method:"POST",data:{phone:e}})},o=function(e,t){return Object(a.a)({url:"/login/phone",method:"POST",data:{phone:e,code:t}})},c=function(){return Object(a.a)({url:"/login/verify",method:"POST"})},u=function(e){return Object(a.a)({url:"/logout",method:"POST",data:{_id:e}})}}}]);
//# sourceMappingURL=8.69923501.chunk.js.map