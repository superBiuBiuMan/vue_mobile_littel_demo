(this.webpackJsonp0524_react_project=this.webpackJsonp0524_react_project||[]).push([[4],{163:function(e,t,n){"use strict";n(52),n(91),n(165)},165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t),t.default={confirmLabel:"\u786e\u5b9a",backspaceLabel:"\u9000\u683c",cancelKeyboardLabel:"\u6536\u8d77\u952e\u76d8"}},198:function(e,t,n){"use strict";var r=n(48),o=n.n(r),a=n(45),i=n.n(a),l=n(41),s=n.n(l),c=n(42),u=n.n(c),d=n(43),p=n.n(d),f=n(44),m=n.n(f),b=n(46),y=n.n(b),h=n(8),v=n(0),g=n(55);var C=n(10);function k(e,t){return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function K(e,t){e.classList?e.classList.add(t):k(e,t)||(e.className=e.className+" "+t)}function x(e,t){if(e.classList)e.classList.remove(t);else if(k(e,t)){var n=e.className;e.className=(" "+n+" ").replace(" "+t+" ","")}}var E=!("undefined"===typeof window||!window.document||!window.document.createElement),O=E&&/iphone|ipad|ipod/i.test(window.navigator.userAgent),P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};function I(e,t){if(!e||!e.length||!t)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}var w=function(e){function t(){return s()(this,t),p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.onClick,r=e.className,a=e.disabled,l=e.children,s=e.tdRef,c=e.label,u=e.iconOnly,d=P(e,["prefixCls","onClick","className","disabled","children","tdRef","label","iconOnly"]),p=l;"keyboard-delete"===r?p="delete":"keyboard-hide"===r?p="hide":"keyboard-confirm"===r&&(p="confirm");var f=o()({},t+"-item-disabled",a),m=y()(t+"-item",r,f);return v.createElement(g.a,{disabled:a,activeClassName:t+"-item-active"},v.createElement("td",i()({ref:s,onClick:function(e){n(e,p)},className:m},d),l,u&&v.createElement("i",{className:"sr-only"},c)))}}]),t}(v.Component);w.defaultProps={prefixCls:"am-number-keyboard",onClick:function(){},disabled:!1};var L=function(e){function t(){s()(this,t);var e=p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onKeyboardClick=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.nativeEvent.stopImmediatePropagation(),e.props.disabledKeys&&I(e.props.disabledKeys,n)||"confirm"===n&&e.confirmDisabled?null:void(e.linkedInput&&e.linkedInput.onKeyboardClick(n))},e.renderKeyboardItem=function(t,n){var r=!1;return e.props.disabledKeys&&I(e.props.disabledKeys,t)&&(r=!0),v.createElement(w,{onClick:e.onKeyboardClick,key:"item-"+t+"-"+n,disabled:r},t)},e}return m()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.confirmLabel,o=t.backspaceLabel,a=t.cancelKeyboardLabel,l=t.wrapProps,s=t.header,c=y()(n+"-wrapper",n+"-wrapper-hide");return v.createElement("div",i()({className:c,ref:function(t){return e.antmKeyboard=t}},l),s&&v.cloneElement(s,{onClick:this.onKeyboardClick}),v.createElement("table",null,v.createElement("tbody",null,v.createElement("tr",null,["1","2","3"].map((function(t,n){return e.renderKeyboardItem(t,n)})),v.createElement(w,i()({className:"keyboard-delete",rowSpan:2,onClick:this.onKeyboardClick},this.getAriaAttr(o)))),v.createElement("tr",null,["4","5","6"].map((function(t,n){return e.renderKeyboardItem(t,n)}))),v.createElement("tr",null,["7","8","9"].map((function(t,n){return e.renderKeyboardItem(t,n)})),v.createElement(w,{className:"keyboard-confirm",rowSpan:2,onClick:this.onKeyboardClick,tdRef:function(t){return e.confirmKeyboardItem=t}},r)),v.createElement("tr",null,[".","0"].map((function(t,n){return e.renderKeyboardItem(t,n)})),v.createElement(w,i()({className:"keyboard-hide",onClick:this.onKeyboardClick},this.getAriaAttr(a)))))))}},{key:"getAriaAttr",value:function(e){return O?{label:e,iconOnly:!0}:{role:"button","aria-label":e}}}]),t}(v.Component);L.defaultProps={prefixCls:"am-number-keyboard",disabledKeys:null};var N=L,B=C.createPortal,_=function(e){function t(e){s()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container=n.props.getContainer(),n}return m()(t,e),u()(t,[{key:"render",value:function(){return this.props.children?B(this.props.children,this.container):null}}]),t}(v.Component),j=null,S=!!C.createPortal;var R=function(e){function t(e){s()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){"value"in n.props||n.setState({value:e.target.value}),n.props.onChange(e)},n.onConfirm=function(e){n.props.onVirtualKeyboardConfirm(e)},n.addBlurListener=function(){document.addEventListener("click",n.doBlur,!1)},n.removeBlurListener=function(){document.removeEventListener("click",n.doBlur,!1)},n.saveRef=function(e){S&&e&&(j=e)},n.doBlur=function(e){var t=n.state.value;e.target!==n.inputRef&&n.onInputBlur(t)},n.unLinkInput=function(){j&&j.antmKeyboard&&j.linkedInput&&j.linkedInput===n&&(j.linkedInput=null,n.props.autoAdjustHeight&&(n.getContainer().style.height="0"),K(j.antmKeyboard,n.props.keyboardPrefixCls+"-wrapper-hide")),n.removeBlurListener()},n.onInputBlur=function(e){S&&(n.keyBoard=null),n.state.focus&&(n.setState({focus:!1}),n.props.onBlur(e),setTimeout((function(){n.unLinkInput()}),50))},n.onInputFocus=function(){var e=n.state.value;n.props.onFocus(e),n.setState({focus:!0},(function(){if(j){if(j.linkedInput=n,j.antmKeyboard){if(n.props.autoAdjustHeight){var t=j.antmKeyboard.offsetHeight;if(n.getContainer().style.height=t+"px",n.inputRef){var r=n.inputRef.getBoundingClientRect().bottom,o=window.innerHeight-r;o<t&&(a=function(){var e=document.scrollingElement||document.documentElement;return e&&e.scrollTop||0}()+t-o,(document.scrollingElement||document.documentElement).scrollTop=a)}}x(j.antmKeyboard,n.props.keyboardPrefixCls+"-wrapper-hide")}j.confirmDisabled=""===e,j.confirmKeyboardItem&&(""===e?K(j.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"):x(j.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"))}var a}))},n.onKeyboardClick=function(e){var t=n.props.maxLength,r=n.state.value,o=n.onChange,a=void 0;"delete"===e?o({target:{value:a=r.substring(0,r.length-1)}}):"confirm"===e?(o({target:{value:a=r}}),n.onInputBlur(r),n.onConfirm(r)):"hide"===e?(a=r,n.onInputBlur(a)):o(void 0!==t&&+t>=0&&(r+e).length>t?{target:{value:a=(r+e).substr(0,t)}}:{target:{value:a=r+e}}),j&&(j.confirmDisabled=""===a,j.confirmKeyboardItem&&(""===a?K(j.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"):x(j.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled")))},n.onFakeInputClick=function(){n.focus()},n.focus=function(){n.renderCustomKeyboard(),n.removeBlurListener(),n.state.focus||n.onInputFocus(),setTimeout((function(){n.addBlurListener()}),50)},n.state={focus:!1,value:e.value||""},n}return m()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){"value"in e&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){this.state.focus&&this.props.onBlur(this.state.value),this.unLinkInput()}},{key:"getComponent",value:function(){var e=this.props,t=e.confirmLabel,n=e.backspaceLabel,r=e.cancelKeyboardLabel,o=e.keyboardPrefixCls,a=e.moneyKeyboardWrapProps,i=e.moneyKeyboardHeader,l=e.disabledKeys;return v.createElement(N,{ref:this.saveRef,onClick:this.onKeyboardClick,prefixCls:o,confirmLabel:t,backspaceLabel:n,cancelKeyboardLabel:r,wrapProps:a,header:i,disabledKeys:l})}},{key:"getContainer",value:function(){var e=this.props.keyboardPrefixCls,t=document.querySelector("#"+e+"-container");return t||((t=document.createElement("div")).setAttribute("id",e+"-container"),document.body.appendChild(t)),this.container=t,this.container}},{key:"renderCustomKeyboard",value:function(){var e=this;S?this.keyBoard=v.createElement(_,{getContainer:function(){return e.getContainer()}},this.getComponent()):j=C.unstable_renderSubtreeIntoContainer(this,this.getComponent(),this.getContainer())}},{key:"renderPortal",value:function(){return S&&E?this.keyBoard:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,r=t.disabled,o=t.editable,a=t.moneyKeyboardAlign,i=this.state,l=i.focus,s=i.value,c=r||!o,u=y()("fake-input",{focus:l,"fake-input-disabled":r}),d=y()("fake-input-container",{"fake-input-container-left":"left"===a});return v.createElement("div",{className:d},""===s&&v.createElement("div",{className:"fake-input-placeholder"},n),v.createElement("div",{role:"textbox","aria-label":s||n,className:u,ref:function(t){return e.inputRef=t},onClick:c?function(){}:this.onFakeInputClick},s),this.renderPortal())}}]),t}(v.Component);R.defaultProps={onChange:function(){},onFocus:function(){},onBlur:function(){},onVirtualKeyboardConfirm:function(){},placeholder:"",disabled:!1,editable:!0,prefixCls:"am-input",keyboardPrefixCls:"am-number-keyboard",autoAdjustHeight:!1};var F=R,A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},T=function(e){function t(){s()(this,t);var e=p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onInputBlur=function(t){var n=t.target.value;e.props.onBlur&&e.props.onBlur(n)},e.onInputFocus=function(t){var n=t.target.value;e.props.onFocus&&e.props.onFocus(n)},e.focus=function(){e.inputRef&&e.inputRef.focus()},e}return m()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.onBlur,t.onFocus,A(t,["onBlur","onFocus"]));return v.createElement("input",i()({ref:function(t){return e.inputRef=t},onBlur:this.onInputBlur,onFocus:this.onInputFocus},n))}}]),t}(v.Component),H=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};function W(){}function V(e){return"undefined"===typeof e||null===e?"":e+""}var D=function(e){function t(e){s()(this,t);var n=p()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChange=function(e){var t=e.target,r=t.value,o=0;try{o=t.selectionEnd||0}catch(u){console.warn("Get selection error:",u)}var a=n.state.value,i=void 0===a?"":a,l=n.props.type,s=r;switch(l){case"bankCard":s=r.replace(/\D/g,"").replace(/(....)(?=.)/g,"$1 ");break;case"phone":var c=(s=r.replace(/\D/g,"").substring(0,11)).length;c>3&&c<8?s=s.substr(0,3)+" "+s.substr(3):c>=8&&(s=s.substr(0,3)+" "+s.substr(3,4)+" "+s.substr(7));break;case"number":s=r.replace(/\D/g,"")}n.handleOnChange(s,s!==r,(function(){switch(l){case"bankCard":case"phone":case"number":try{var e=n.calcPos(o,i,r,s,[" "],/\D/g);("phone"===l&&(4===e||9===e)||"bankCard"===l&&e>0&&e%5===0)&&(e-=1),t.selectionStart=t.selectionEnd=e}catch(u){console.warn("Set selection error:",u)}}}))},n.handleOnChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W,o=n.props.onChange;"value"in n.props?n.setState({value:n.props.value}):n.setState({value:e}),o?t?setTimeout((function(){o(e),r()})):(o(e),r()):r()},n.onInputFocus=function(e){n.debounceTimeout&&(clearTimeout(n.debounceTimeout),n.debounceTimeout=null),n.setState({focus:!0}),n.props.onFocus&&n.props.onFocus(e)},n.onInputBlur=function(e){n.inputRef&&(n.debounceTimeout=window.setTimeout((function(){document.activeElement!==(n.inputRef&&n.inputRef.inputRef)&&n.setState({focus:!1})}),200)),n.props.onBlur&&(setTimeout((function(){document.body&&(document.body.scrollTop=document.body.scrollTop)}),100),n.props.onBlur(e))},n.clearInput=function(){"password"!==n.props.type&&n.props.updatePlaceholder&&n.setState({placeholder:n.props.value}),n.setState({value:""}),n.props.onChange&&n.props.onChange(""),n.focus()},n.focus=function(){n.inputRef&&n.inputRef.focus()},n.calcPos=function(e,t,n,r,o,a){var i=n.length-t.length,l=e;if(i>0){var s=n.substr(l-i,i).replace(a,"").length;l-=i-s;for(var c=0;s>0;)-1===o.indexOf(r.charAt(l-s+c))?s--:c++;l+=c}return l},n.state={placeholder:e.placeholder,value:V(e.value||e.defaultValue)},n}return m()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){"placeholder"in e&&!e.updatePlaceholder&&this.setState({placeholder:e.placeholder}),"value"in e&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(window.clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var e,t,r=this,a=i()({},this.props);delete a.updatePlaceholder;var l=a.prefixCls,s=a.prefixListCls,c=a.editable,u=a.style,d=a.clear,p=a.children,f=a.error,m=a.className,b=a.extra,h=a.labelNumber,C=a.type,k=a.onExtraClick,K=a.onErrorClick,x=a.moneyKeyboardAlign,E=a.moneyKeyboardWrapProps,O=a.moneyKeyboardHeader,P=a.onVirtualKeyboardConfirm,I=a.autoAdjustHeight,w=a.disabledKeys,L=H(a,["prefixCls","prefixListCls","editable","style","clear","children","error","className","extra","labelNumber","type","onExtraClick","onErrorClick","moneyKeyboardAlign","moneyKeyboardWrapProps","moneyKeyboardHeader","onVirtualKeyboardConfirm","autoAdjustHeight","disabledKeys"]),N=L.name,B=L.disabled,_=L.maxLength,j=this.state.value,S=function(e,t,n,r){var o={};if(t&&t.antLocale&&t.antLocale[n])o=t.antLocale[n];else{var a=r();o=a.default||a}var l=i()({},o);return e.locale&&(l=i()({},l,e.locale),e.locale.lang&&(l.lang=i()({},o.lang,e.locale.lang))),l}(this.props,this.context,"InputItem",(function(){return n(166)})),R=S.confirmLabel,A=S.backspaceLabel,W=S.cancelKeyboardLabel,D=this.state,z=D.focus,J=D.placeholder,U=y()(s+"-item",l+"-item",s+"-item-middle",m,(e={},o()(e,l+"-disabled",B),o()(e,l+"-error",f),o()(e,l+"-focus",z),o()(e,l+"-android",z),e)),$=y()(l+"-label",(t={},o()(t,l+"-label-2",2===h),o()(t,l+"-label-3",3===h),o()(t,l+"-label-4",4===h),o()(t,l+"-label-5",5===h),o()(t,l+"-label-6",6===h),o()(t,l+"-label-7",7===h),t)),q=l+"-control",G="text";"bankCard"===C||"phone"===C?G="tel":"password"===C?G="password":"digit"===C?G="number":"text"!==C&&"number"!==C&&(G=C);var M=void 0;"number"===C&&(M={pattern:"[0-9]*"});var Q=void 0;return"digit"===C&&(Q={className:"h5numInput"}),v.createElement("div",{className:U},v.createElement("div",{className:s+"-line"},p?v.createElement("div",{className:$},p):null,v.createElement("div",{className:q},"money"===C?v.createElement(F,{value:V(j),type:C,ref:function(e){return r.inputRef=e},maxLength:_,placeholder:J,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onVirtualKeyboardConfirm:P,disabled:B,editable:c,prefixCls:l,style:u,confirmLabel:R,backspaceLabel:A,cancelKeyboardLabel:W,moneyKeyboardAlign:x,moneyKeyboardWrapProps:E,moneyKeyboardHeader:O,autoAdjustHeight:I,disabledKeys:w}):v.createElement(T,i()({},M,L,Q,{value:V(j),defaultValue:void 0,ref:function(e){return r.inputRef=e},style:u,type:G,maxLength:_,name:N,placeholder:J,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,readOnly:!c,disabled:B}))),d&&c&&!B&&j&&(""+j).length>0?v.createElement(g.a,{activeClassName:l+"-clear-active"},v.createElement("div",{className:l+"-clear",onClick:this.clearInput})):null,f?v.createElement("div",{className:l+"-error-extra",onClick:K}):null,""!==b?v.createElement("div",{className:l+"-extra",onClick:k},b):null))}}]),t}(v.Component);D.defaultProps={prefixCls:"am-input",prefixListCls:"am-list",type:"text",editable:!0,disabled:!1,placeholder:"",clear:!1,onChange:W,onBlur:W,onFocus:W,extra:"",onExtraClick:W,error:!1,onErrorClick:W,onVirtualKeyboardConfirm:W,labelNumber:5,updatePlaceholder:!1,moneyKeyboardAlign:"right",moneyKeyboardWrapProps:{},moneyKeyboardHeader:null,disabledKeys:null},D.contextTypes={antLocale:h.object};t.a=D},74:function(e,t,n){"use strict";n(52),n(61),n(75)},75:function(e,t,n){},76:function(e,t,n){"use strict";var r=n(45),o=n.n(r),a=n(48),i=n.n(a),l=n(41),s=n.n(l),c=n(42),u=n.n(c),d=n(43),p=n.n(d),f=n(44),m=n.n(f),b=n(46),y=n.n(b),h=n(0),v=n(55),g=n(65),C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},k=/^[\u4e00-\u9fa5]{2}$/,K=k.test.bind(k);function x(e){return"string"===typeof e}function E(e){return x(e.type)&&K(e.props.children)?h.cloneElement(e,{},e.props.children.split("").join(" ")):x(e)?(K(e)&&(e=e.split("").join(" ")),h.createElement("span",null,e)):e}var O=function(e){function t(){return s()(this,t),p()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m()(t,e),u()(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.className,a=t.prefixCls,l=t.type,s=t.size,c=t.inline,u=t.disabled,d=t.icon,p=t.loading,f=t.activeStyle,m=t.activeClassName,b=t.onClick,k=C(t,["children","className","prefixCls","type","size","inline","disabled","icon","loading","activeStyle","activeClassName","onClick"]),K=p?"loading":d,x=y()(a,r,(e={},i()(e,a+"-primary","primary"===l),i()(e,a+"-ghost","ghost"===l),i()(e,a+"-warning","warning"===l),i()(e,a+"-small","small"===s),i()(e,a+"-inline",c),i()(e,a+"-disabled",u),i()(e,a+"-loading",p),i()(e,a+"-icon",!!K),e)),O=h.Children.map(n,E),P=void 0;if("string"===typeof K)P=h.createElement(g.a,{"aria-hidden":"true",type:K,size:"small"===s?"xxs":"md",className:a+"-icon"});else if(K){var I=K.props&&K.props.className,w=y()("am-icon",a+"-icon","small"===s?"am-icon-xxs":"am-icon-md");P=h.cloneElement(K,{className:I?I+" "+w:w})}return h.createElement(v.a,{activeClassName:m||(f?a+"-active":void 0),disabled:u,activeStyle:f},h.createElement("a",o()({role:"button",className:x},k,{onClick:u?void 0:b,"aria-disabled":u}),P,O))}}]),t}(h.Component);O.defaultProps={prefixCls:"am-button",size:"large",inline:!1,disabled:!1,loading:!1,activeStyle:{}},t.a=O}}]);
//# sourceMappingURL=4.a1014d07.chunk.js.map