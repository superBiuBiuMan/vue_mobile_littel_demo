{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nVue.use(VueRouter);\nvar routes = [{\n  path: \"/login\",\n  component: function component() {\n    return import(\"@/view/Login.vue\");\n  }\n}, {\n  path: \"/\",\n  redirect: \"/login\"\n}, {\n  path: \"/center\",\n  name: \"center\",\n  component: function component() {\n    return import(\"@/view/Center.vue\");\n  }\n}];\nvar router = new VueRouter({\n  routes: routes\n});\n\nfunction hasCookie() {\n  var isHas = false;\n  cookie.split(\";\").forEach(function (item) {\n    if (item.startsWith(\"user_token=\")) {\n      isHas = true;\n    }\n  });\n  return isHas;\n}\n\nrouter.beforeEach(function (to, from, next) {\n  if (to.path == \"/login\") {\n    if (hasCookie) {\n      next(\"/center\");\n    } else {\n      next(\"/\");\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","use","routes","path","component","redirect","name","router","hasCookie","isHas","cookie","split","forEach","item","startsWith","beforeEach","to","from","next"],"sources":["D:/develop/phpstudy_pro/WWW/vue_mobile_littel_demo/src/router/index.js"],"sourcesContent":["import Vue from \"vue\"\r\nimport VueRouter from \"vue-router\"\r\nVue.use(VueRouter);\r\n\r\n\r\nconst routes = [\r\n    {\r\n\r\n        path: \"/login\",\r\n        component: () => import(\"@/view/Login.vue\")\r\n    },\r\n  \r\n    {\r\n        path:\"/\",\r\n        redirect:\"/login\"\r\n    },\r\n    {\r\n        path:\"/center\",\r\n        name:\"center\",\r\n        component:() => import(\"@/view/Center.vue\")\r\n    },\r\n    \r\n]\r\n\r\nconst router = new VueRouter({\r\n    routes,\r\n})\r\n\r\nfunction hasCookie(){\r\n    let isHas = false;\r\n    cookie.split(\";\").forEach(item=>{\r\n        if(item.startsWith(\"user_token=\")){\r\n            isHas = true;\r\n        }\r\n    });\r\n    return isHas;\r\n}\r\n\r\nrouter.beforeEach((to,from,next)=>{\r\n    if(to.path == \"/login\"){\r\n        if(hasCookie){\r\n            next(\"/center\")\r\n        }else{\r\n            next(\"/\");\r\n        }\r\n    }else{\r\n        next();\r\n    }\r\n})\r\n\r\nexport default router;"],"mappings":";;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACAD,GAAG,CAACE,GAAJ,CAAQD,SAAR;AAGA,IAAME,MAAM,GAAG,CACX;EAEIC,IAAI,EAAE,QAFV;EAGIC,SAAS,EAAE;IAAA,OAAM,OAAO,kBAAP,CAAN;EAAA;AAHf,CADW,EAOX;EACID,IAAI,EAAC,GADT;EAEIE,QAAQ,EAAC;AAFb,CAPW,EAWX;EACIF,IAAI,EAAC,SADT;EAEIG,IAAI,EAAC,QAFT;EAGIF,SAAS,EAAC;IAAA,OAAM,OAAO,mBAAP,CAAN;EAAA;AAHd,CAXW,CAAf;AAmBA,IAAMG,MAAM,GAAG,IAAIP,SAAJ,CAAc;EACzBE,MAAM,EAANA;AADyB,CAAd,CAAf;;AAIA,SAASM,SAAT,GAAoB;EAChB,IAAIC,KAAK,GAAG,KAAZ;EACAC,MAAM,CAACC,KAAP,CAAa,GAAb,EAAkBC,OAAlB,CAA0B,UAAAC,IAAI,EAAE;IAC5B,IAAGA,IAAI,CAACC,UAAL,CAAgB,aAAhB,CAAH,EAAkC;MAC9BL,KAAK,GAAG,IAAR;IACH;EACJ,CAJD;EAKA,OAAOA,KAAP;AACH;;AAEDF,MAAM,CAACQ,UAAP,CAAkB,UAACC,EAAD,EAAIC,IAAJ,EAASC,IAAT,EAAgB;EAC9B,IAAGF,EAAE,CAACb,IAAH,IAAW,QAAd,EAAuB;IACnB,IAAGK,SAAH,EAAa;MACTU,IAAI,CAAC,SAAD,CAAJ;IACH,CAFD,MAEK;MACDA,IAAI,CAAC,GAAD,CAAJ;IACH;EACJ,CAND,MAMK;IACDA,IAAI;EACP;AACJ,CAVD;AAYA,eAAeX,MAAf"},"metadata":{},"sourceType":"module"}