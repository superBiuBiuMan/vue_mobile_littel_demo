{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'Home',\n  data: function data() {\n    return {\n      //手机号\n      phone: \"\",\n      //用户输入的验证码\n      code: \"\",\n      //是否能够登录\n      canLogin: false,\n      //计时器\n      timer: \"\",\n      //计数器\n      number: 4\n    };\n  },\n  methods: {\n    //登录\n    login: function login() {\n      //可以登录为真的情况下\n      if (this.canLogin) {}\n    },\n    //获取验证码\n    getCode: function getCode() {\n      var _this = this;\n\n      //信息不完整\n      if (!this.phone) {\n        return;\n      } else {\n        //发送登录请求\n        this.$API.login(this.phone).then(function (response) {\n          //请求成功\n          if (response.code === 20000) {\n            _this.$nextTick(function () {\n              //进入倒计时\n              if (!_this.timer) {\n                _this.timer = setInterval(function () {\n                  if (_this.number <= 0) {\n                    console.log(\"啊啊\");\n                    document.querySelector(\".get-code\").textContent = \"666\";\n                    _this.number = 4;\n                    clearInterval(_this.timer);\n                    _this.timer = \"\";\n                  }\n\n                  document.querySelector(\".get-code\").textContent = \"获取验证码(\" + _this.number + \")\";\n                  _this.number--;\n                }, 1000);\n              }\n            });\n          } else {\n            alert(\"获取验证码失败,请重试!\");\n          }\n        }).catch(function (reason) {\n          alert(\"获取验证码失败,请重试!\");\n          console.log(reason);\n        });\n      }\n    },\n    //是否可以登录\n    can: function can() {\n      if (this.code && this.phone) {\n        this.canLogin = true;\n      } else {\n        this.canLogin = false;\n      }\n    }\n  },\n  watch: {\n    phone: function phone() {\n      this.can();\n    },\n    code: function code() {\n      this.can();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;EACAA,YADA;EAEAC,IAFA,kBAEA;IACA;MACA;MACAC,SAFA;MAGA;MACAC,QAJA;MAKA;MACAC,eANA;MAOA;MACAC,SARA;MASA;MACAC;IAVA;EAYA,CAfA;EAgBAC;IACA;IACAC,KAFA,mBAEA;MACA;MACA,oBAEA;IACA,CAPA;IAQA;IACAC,OATA,qBASA;MAAA;;MACA;MACA;QACA;MACA,CAFA,MAEA;QACA;QACA;UACA;UACA;YACA;cACA;cACA;gBACA;kBACA;oBACAC;oBACAC;oBACA;oBACAC;oBACA;kBACA;;kBACAD;kBACA;gBACA,CAVA,EAUA,IAVA;cAWA;YACA,CAfA;UAiBA,CAlBA,MAkBA;YACAE;UACA;QACA,CAvBA,EAuBAC,KAvBA,CAuBA;UACAD;UACAH;QACA,CA1BA;MA2BA;IACA,CA3CA;IA4CA;IACAK,GA7CA,iBA6CA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA;EAnDA,CAhBA;EAqEAC;IACAd,KADA,mBACA;MACA;IACA,CAHA;IAIAC,IAJA,kBAIA;MACA;IACA;EANA;AArEA","names":["name","data","phone","code","canLogin","timer","number","methods","login","getCode","console","document","clearInterval","alert","catch","can","watch"],"sourceRoot":"src/view","sources":["Login.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"operation\"> \r\n        <p>手机验证码登录</p>\r\n        <input v-model=\"phone\" placeholder=\"请输入手机号\"><br/>\r\n        <div class=\"verify\">\r\n          <input v-model=\"code\" placeholder=\"请输入验证码\">\r\n          <svg t=\"1653360400343\" class=\"close\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" \r\n          p-id=\"2946\" width=\"25\" height=\"25\"><path d=\"M872.802928 755.99406 872.864326 755.99406 872.864326 755.624646Z\" p-id=\"2947\" fill=\"#8a8a8a\"></path><path d=\"M927.846568 511.997953c0-229.315756-186.567139-415.839917-415.838893-415.839917-229.329059 0-415.85322 186.524161-415.85322 415.839917 0 229.300406 186.524161 415.84094 415.85322 415.84094C741.278405 927.838893 927.846568 741.29836 927.846568 511.997953M512.007675 868.171955c-196.375529 0-356.172979-159.827125-356.172979-356.174002 0-196.374506 159.797449-356.157629 356.172979-356.157629 196.34483 0 356.144326 159.783123 356.144326 356.157629C868.152001 708.34483 708.352505 868.171955 512.007675 868.171955\" p-id=\"2948\" fill=\"#8a8a8a\"></path><path d=\"M682.378947 642.227993 553.797453 513.264806 682.261267 386.229528c11.661597-11.514241 11.749602-30.332842 0.234337-41.995463-11.514241-11.676947-30.362518-11.765975-42.026162-0.222057L511.888971 471.195665 385.223107 344.130711c-11.602246-11.603269-30.393217-11.661597-42.025139-0.059352-11.603269 11.618619-11.603269 30.407544-0.059352 42.011836l126.518508 126.887922L342.137823 639.104863c-11.662621 11.543917-11.780301 30.305213-0.23536 41.96988 5.830799 5.89015 13.429871 8.833179 21.086248 8.833179 7.53972 0 15.136745-2.8847 20.910239-8.569166l127.695311-126.311801L640.293433 684.195827c5.802146 5.8001 13.428847 8.717546 21.056572 8.717546 7.599072 0 15.165398-2.917446 20.968567-8.659217C693.922864 672.681586 693.950494 653.889591 682.378947 642.227993\" p-id=\"2949\" fill=\"#8a8a8a\"></path></svg>\r\n          <button class=\"get-code\" :class=\"{stop:timer}\" @click=\"getCode\">获取验证码</button><br/>\r\n        </div>\r\n        <button class=\"login\" disabled :class=\"{canlogin:canLogin}\" @click.prevent=\"login\">登 录</button>\r\n    </div>\r\n    <div class=\"other-logo\">\r\n      <div class=\"line\">\r\n        <p>其他登录方式</p>\r\n      </div>\r\n      <div class=\"all-img\">\r\n        <img src=\"@/assets/github.png\" alt=\"\">\r\n        <img src=\"@/assets/qq.png\" alt=\"\">\r\n        <img src=\"@/assets/wechat.png\" alt=\"\">\r\n      </div>\r\n    </div>\r\n    <p class=\"notice\">未注册的手机号，验证后会自动创建硅谷账号,登录即代表您同意<a href=\"javascript:;\">《硅谷隐私政策》</a></p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Home',\r\n  data(){\r\n    return {\r\n      //手机号\r\n      phone:\"\",\r\n      //用户输入的验证码\r\n      code:\"\",\r\n      //是否能够登录\r\n      canLogin:false,\r\n      //计时器\r\n      timer:\"\",\r\n      //计数器\r\n      number:4\r\n    }\r\n  },\r\n  methods:{\r\n    //登录\r\n    login(){\r\n      //可以登录为真的情况下\r\n      if(this.canLogin){\r\n\r\n      }\r\n    },\r\n    //获取验证码\r\n    getCode(){\r\n      //信息不完整\r\n      if(!this.phone){\r\n        return;\r\n      }else{\r\n        //发送登录请求\r\n        this.$API.login(this.phone).then(response=>{\r\n          //请求成功\r\n          if(response.code === 20000){\r\n            this.$nextTick(()=>{\r\n               //进入倒计时\r\n              if(!this.timer){\r\n                this.timer = setInterval(() => {\r\n                  if(this.number<=0){\r\n                    console.log(\"啊啊\");\r\n                    document.querySelector(\".get-code\").textContent=\"666\";\r\n                    this.number = 4;\r\n                    clearInterval(this.timer);\r\n                    this.timer = \"\"\r\n                  }\r\n                  document.querySelector(\".get-code\").textContent=\"获取验证码(\"+this.number+\")\";\r\n                  this.number--;\r\n                }, 1000);\r\n              }\r\n            })\r\n           \r\n          }else{\r\n            alert(\"获取验证码失败,请重试!\");\r\n          }\r\n        }).catch(reason=>{\r\n          alert(\"获取验证码失败,请重试!\");\r\n          console.log(reason);\r\n        })\r\n      }\r\n    },\r\n    //是否可以登录\r\n    can(){\r\n      if (this.code&&this.phone) {\r\n        this.canLogin = true;\r\n      }else{\r\n        this.canLogin = false;\r\n      }\r\n    }\r\n  },\r\n  watch:{\r\n    phone(){\r\n      this.can();\r\n    },\r\n    code(){\r\n      this.can();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@sizeFont:414/10rem;\r\n.operation{\r\n  padding: 0 10px;\r\n  &>p{\r\n    text-align: center;\r\n    font-size: (20/@sizeFont);\r\n    margin-top: (10/@sizeFont);\r\n  }\r\n  // 输入框\r\n  input{\r\n    border: none;\r\n    height: (50/@sizeFont);\r\n    padding: 0 (10/@sizeFont);\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    border-bottom: (1/@sizeFont) solid #eee;\r\n    //关闭输入时聚焦边框\r\n    outline: none;\r\n    font-size: (16/@sizeFont);\r\n  }\r\n  .verify{\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    // 关闭按钮\r\n    .close{\r\n      position: absolute;\r\n      right: (114/@sizeFont);\r\n      top: (12/@sizeFont);\r\n    }\r\n  }\r\n  //获取验证码\r\n  .get-code{\r\n    color: red;\r\n    border: none;\r\n    background-color: white;\r\n    font-family: \"微软雅黑\";\r\n    font-weight: 500;\r\n    font-size: (16/@sizeFont);\r\n    width: (150/@sizeFont);\r\n    &.stop{\r\n      color: #808080;\r\n    }\r\n  }\r\n  // 登录按钮\r\n  .login{\r\n    color: #fcbfbd;\r\n    background-color: #f86a66;\r\n    border: none;\r\n    border-radius: (5/@sizeFont);\r\n    font-size: (19/@sizeFont);\r\n    width: 100%;\r\n    line-height: (50/@sizeFont);\r\n    box-shadow: 1px 1px 3px #eee;\r\n    &.canlogin{\r\n      color: white;\r\n      background-color: red;\r\n    }\r\n  }\r\n}\r\n.other-logo{\r\n  padding: 0 (10/@sizeFont);\r\n  margin-top: (50/@sizeFont);\r\n \r\n  // 线条\r\n  .line{\r\n    outline: (2/@sizeFont) solid #a8a8a8;\r\n    margin: 0  (25/@sizeFont) ;\r\n    position: relative;\r\n    &>p{\r\n      font-size: (16/@sizeFont);\r\n      color: #454b52;\r\n      text-align: center;\r\n      position: absolute;\r\n      background-color: #ffffff;\r\n      left: 50%;\r\n      transform: translate(-50%,-50%);\r\n      line-height: (20/@sizeFont);\r\n      padding: 0 (10/@sizeFont);\r\n    }\r\n  }\r\n  // 图片\r\n  .all-img{\r\n    padding-top: (10/@sizeFont);\r\n    text-align: center;\r\n    img{\r\n      vertical-align: bottom;\r\n      width: (35/@sizeFont);\r\n      height: (35/@sizeFont);\r\n      margin-right:(8/@sizeFont);\r\n    } \r\n  }\r\n}\r\n  // 声明\r\n.notice{\r\n  text-align: center;\r\n  margin-top: (70/@sizeFont);\r\n  padding: 0 (10/@sizeFont);\r\n  font-size: (16/@sizeFont);\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}