{"ast":null,"code":"import _regeneratorRuntime from \"D:/develop/phpstudy_pro/WWW/vue_mobile_littel_demo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/develop/phpstudy_pro/WWW/vue_mobile_littel_demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'Center',\n  data: function data() {\n    return {\n      //用户头像\n      avatar: \"\",\n      //昵称\n      nickName: \"\",\n      //用户名\n      username: \"\",\n      //手机\n      phone: \"\",\n      //唯一标识\n      id: \"\"\n    };\n  },\n  mounted: function mounted() {\n    this.getUserInfo();\n  },\n  methods: {\n    //刚载入路由获取用户信息\n    getUserInfo: function getUserInfo() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var result, _result$data, avatar, nickName, username, phone, _id;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.$API.isLogin();\n\n              case 2:\n                result = _context.sent;\n\n                if (result.code === 20000) {\n                  _result$data = result.data, avatar = _result$data.avatar, nickName = _result$data.nickName, username = _result$data.username, phone = _result$data.phone, _id = _result$data._id;\n                  _this.avatar = avatar;\n                  _this.nickName = nickName;\n                  _this.username = username;\n                  _this.phone = phone;\n                  console.log(_id);\n                  _this.id = _id;\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    //退出登录\n    loginOut: function loginOut() {}\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;AAiBA;EACAA,cADA;EAEAC,IAFA,kBAEA;IACA;MACA;MACAC,UAFA;MAGA;MACAC,YAJA;MAKA;MACAC,YANA;MAOA;MACAC,SARA;MASA;MACAC;IAVA;EAYA,CAfA;EAgBAC,OAhBA,qBAgBA;IACA;EACA,CAlBA;EAmBAC;IACA;IACAC,WAFA,yBAEA;MAAA;;MAAA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,oBADA;;cAAA;gBACAC,MADA;;gBAEA;kBAAA,eACAA,WADA,EACAR,MADA,gBACAA,MADA,EACAC,QADA,gBACAA,QADA,EACAC,QADA,gBACAA,QADA,EACAC,KADA,gBACAA,KADA,EACAM,GADA,gBACAA,GADA;kBAEA;kBACA;kBACA;kBACA;kBACAC;kBACA;gBACA;;cAVA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAWA,CAbA;IAcA;IACAC,QAfA,sBAeA,CAEA;EAjBA;AAnBA","names":["name","data","avatar","nickName","username","phone","id","mounted","methods","getUserInfo","result","_id","console","loginOut"],"sourceRoot":"src/view","sources":["Center.vue"],"sourcesContent":["<template>\r\n  <div class=\"content\">\r\n      <p class=\"top\">个人中心</p>\r\n      <div class=\"avator\">\r\n          <img :src=\"avatar\" >\r\n          <p>欢迎,用户{{username}}</p>\r\n      </div>\r\n      <p class=\"title\">个人信息</p>\r\n      <div class=\"info\">\r\n          <p><span>昵称</span><span style=\"float:right;color:#a08888\">{nickName}</span></p>\r\n          <p><span>手机</span><span style=\"float:right;color:#a08888\">{{phone?phone:\"暂无\"}}</span></p>\r\n      </div>\r\n      <button class=\"login-out\" @click.prevent=\"loginOut\">退出登录</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Center',\r\n  data(){\r\n      return {\r\n          //用户头像\r\n          avatar:\"\",\r\n          //昵称\r\n          nickName:\"\",\r\n          //用户名\r\n          username:\"\",\r\n          //手机\r\n          phone:\"\",\r\n          //唯一标识\r\n          id:\"\"\r\n      }\r\n  },\r\n  mounted(){\r\n      this.getUserInfo();\r\n  },\r\n  methods:{\r\n      //刚载入路由获取用户信息\r\n      async getUserInfo(){\r\n          const result = await this.$API.isLogin();\r\n          if(result.code === 20000){\r\n              let {avatar,nickName,username,phone,_id} = result.data;\r\n              this.avatar = avatar;\r\n              this.nickName = nickName;\r\n              this.username = username;\r\n              this.phone = phone;\r\n              console.log(_id);\r\n              this.id = _id;\r\n          }\r\n      },\r\n      //退出登录\r\n      loginOut(){\r\n\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@sizeFont:414/10rem;\r\n.content{\r\nbackground-color: #f5f5f9;\r\np{\r\n    font-size: (16/@sizeFont);\r\n}\r\n.top{\r\n    text-align: center;\r\n    margin-top: (10/@sizeFont);\r\n    font-size: (19/@sizeFont);\r\n    height: (40/@sizeFont);\r\n    background-color: white;\r\n}\r\n.avator{\r\n    text-align: center;\r\n    margin-top: (40/@sizeFont);\r\n    img{\r\n        border-radius: 50%;\r\n        width: (80/@sizeFont);\r\n        height: (80/@sizeFont);\r\n        vertical-align: bottom;\r\n    }\r\n    p{\r\n        text-align: center;\r\n    }\r\n}\r\n.title{\r\n    color: #98999d;\r\n    text-align: center;\r\n    font-size: (15/@sizeFont);\r\n    margin: (10/@sizeFont) 0;\r\n}\r\n.info{\r\n    &>p{\r\n        line-height: (40/@sizeFont);\r\n        background-color: white;\r\n        border-bottom: 1px solid #eee;\r\n        padding: 0 (10/@sizeFont);\r\n    }\r\n    &>p:last-of-type{\r\n            margin-top: 1px;\r\n     }\r\n}\r\n.login-out{\r\n    width: 100%;\r\n    background-color: red;\r\n    border: none;\r\n    border-radius: (5/@sizeFont) (5/@sizeFont);\r\n    color: white;\r\n    height: (50/@sizeFont);\r\n    font-size: (18/@sizeFont);\r\n}\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}